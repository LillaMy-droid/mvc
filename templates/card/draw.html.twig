{% extends "base.html.twig" %}

{% block title %}Draw{% endblock %}

{% block main %}
<div class="mainblock">

    <h1>Draw cards from the deck</h1>
    
    <p>Number of cards left in deck: {{ countDeck }}</p>
    
    <h2>Drawn cards:</h2>
    <ul>
        
    {% for card in cards %}
        {% if card is iterable %}
            <span> {{ card[0] }}{{ card[1] }} </span>
        {% else %}
            <span>{{ card }}</span>
        {% endif %}
    {% endfor %}

    </ul>

    {# <form method="get" id="form">
        <label for="number">Choose amount of cards to draw from deck</label>
            <input type="number" id="number" min="1" max="{{ countDeck }}">
            <button type="submit">Draw cards</button>
    </form>
</div>
<script>
    document.getElementById('form').addEventListener('submit', function (event) {
    event.preventDefault();

    const num = document.getElementById('number').value.trim();

    let url;
    if (num) {
        url = `{{ path('draw_number', {'num': '__NUM__'}) }}`.replace('__NUM__', num);
    } else {
        url = `{{ path('draw_card') }}`;
    }

    window.location.href = url;
    });
</script> #}
</div>
{% endblock %}
